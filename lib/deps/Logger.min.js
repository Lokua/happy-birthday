/*! lo66er v0.10.2 | Copyright Â© 2015 Joshua Kleckner | http://opensource.org/licenses/MIT 
*/!function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(){u=["gray","gray","green","node"===q?"cyan":"blue","node"===q?"yellow":"darkorange","red","gray"]}function e(){return"object"==typeof module&&module.exports?"node":"browser"}function f(a,b){"env"===a&&("browser"===b?(q="browser",r=null,s="/"):(q="node",r=require("chalk"),s=require("path").sep),d())}function g(a,b,c){var d=a[o],e=d.level;if(!(A.off||e<A.LOG||e>b||e>A.ERROR)){var f="%s",g=[],k=c[0],l="string"==typeof k;if(c=y.call(c),"node"===q)l&&v.test(k)&&(f+=c.shift().replace(w,function(a,b){return"%o"===a?"%j":"%f"===a||"%i"===a?"%d":a})),g.unshift(f,i(a)+j(a,b)+h(a,b));else{f="%c%s%c%s%c%s%c",l&&(f+=v.test(k)?c.shift().replace(x,"%o"):c.shift());var m="color:"+u[b]+";";g=[f,d.nameStyle,i(a),d.outputLevel?m:"",d.outputLevel?j(a,b):"",d.outputSource?"auto"===d.sourceStyle?m:d.sourceStyle:"",h(a,b),d.textStyle]}return z.apply(g,c),console[b===A.DEBUG?"log":t[b]].apply(console,g),a}}function h(a,c){var d=a[o],e=d.newLine?"\n	":"";if(!d.outputSource)return e;var f=new Error,g="stack"in f?f.stack.split("\n"):null,h=b;if(g&&g.length>=3){var i=g[4];if("node"===q)h=i.substr(i.indexOf("at")+3);else{if(""===i&&(i=g[3],""===i))return"";h=i.substr(i.indexOf("at")+2)," "===h.charAt(0)&&(h=h.substr(1))}h=h.replace(/[()]/,""),d.useAbsoluteSource||(h=h.substr(h.lastIndexOf(s)+1)),"("!==h.charAt(0)&&(h="("+h),")"!==h.charAt(h.length-1)&&(h+=")")}return"node"===q&&(h=r[u[c]](h)),h+" "+e}function i(a){var b=a.name||"";return"node"===q?r.magenta(b):b}function j(a,b){var c=t[b].toUpperCase(),d=a[o];"node"===d.env&&(b===A.INFO||b===A.WARN?c=" "+c:b===A.LOG&&(c="  "+c));var e=m(b," "+c+" "),f=d.outputTimestamp?m(b,"["+l()+"] "):"";return e+f}function k(a){return 10>a?"0"+a:a}function l(){var a=new Date;return k(a.getHours())+":"+k(a.getMinutes())+":"+k(a.getSeconds())+":"+a.getMilliseconds()}function m(a,b){return"node"===q?r[u[a]](b):b}var n=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),o=Symbol("Logger instance options property"),p=Symbol("Logger default options property"),q=b,r=b,s=b,t=["log","trace","debug","info","warn","error"],u=b,v=/%[ojdifsc]/,w=/%[ofi]/g,x=/%j/g,y=Array.prototype.slice,z=Array.prototype.push,A=function(){function a(d){var e=arguments.length<=1||arguments[1]===b?{}:arguments[1];c(this,a);var g=this,h=b;g.name=d,("number"==typeof e||"string"==typeof e)&&(h=e,e={level:h});for(var i in a[p])e.hasOwnProperty(i)||(e[i]=a[p][i]);return f("env",e.env),g[o]=e,a.loggers.push(g),g}return n(a,[{key:"setLevel",value:function(a){return this[o].level=a,this}},{key:"getOption",value:function(a){return this[o][a]}},{key:"getOptions",value:function(){return this[o]}},{key:"setOption",value:function(a,b){return f(a,b),this[o][a]=b,this}},{key:"setOptions",value:function(a){for(var b in a)a.hasOwnProperty(b)&&this.setOption(b,a[b]);return this}},{key:"group",value:function(){return arguments.length?1===arguments.length?console.group(arguments[0]):console.group.apply(console,y.call(arguments,0)):console.group(),this}},{key:"groupEnd",value:function(){return console.groupEnd(),this}},{key:"log",value:function(){return g(this,a.LOG,arguments)}},{key:"trace",value:function(){return g(this,a.TRACE,arguments)}},{key:"debug",value:function(){return g(this,a.DEBUG,arguments)}},{key:"info",value:function(){return g(this,a.INFO,arguments)}},{key:"warn",value:function(){return g(this,a.WARN,arguments)}},{key:"error",value:function(){return g(this,a.ERROR,arguments)}}],[{key:"logger",value:function(c){var d=b;return a.loggers.some(function(a){return a.name===c?d=a:void 0}),d}},{key:"setDefaults",value:function(b){Object.keys(a[p]).forEach(function(c){b.hasOwnProperty(c)&&(a[p][c]=b[c])})}},{key:"createRequestLogger",value:function(b,c){function d(a,b,c){var d=b.statusCode<400?"green":"red",f=Date.now();b.on("finish",function(){e.info("%s %s %s %s",r.yellow(a.method),r.white(a.path||a.url),r[d](b.statusCode),r.cyan(Date.now()-f+"ms"))}),c()}var e=new a(b,{outputSource:!1});for(var f in c)c.hasOwnProperty(f)&&(e.options[f]=f);return d}}]),a}();A[p]={level:A.LOG,outputLevel:!0,outputTimestamp:!1,outputSource:!0,useAbsoluteSource:!1,textStyle:"color:black;",sourceStyle:"auto",nameStyle:"color:rebeccapurple;",newLine:!1,env:e()},A.off=!1,A.loggers=[],t.forEach(function(a,b){return A[a.toUpperCase()]=b}),function(b){"function"==typeof define&&define.amd?define("Logger",[],function(){return a.returnExportsGlobal=b()}):"object"==typeof module&&module.exports?module.exports=b():a.Logger=b()}(function(){return A})}(this);